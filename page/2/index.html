<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.html"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="夏远建的博客">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="夏远建的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="夏远建">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>夏远建的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">夏远建的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">码农一枚</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-首页">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-关于">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-标签">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-分类">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-归档">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/01/27/SQL-%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/01/27/SQL-%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">SQL 使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-27 11:39:10" itemprop="dateCreated datePublished" datetime="2021-01-27T11:39:10+08:00">2021-01-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-12 22:36:56" itemprop="dateModified" datetime="2023-02-12T22:36:56+08:00">2023-02-12</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/01/27/SQL-%E4%BD%BF%E7%94%A8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/01/27/SQL-%E4%BD%BF%E7%94%A8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>539</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-写完SQL先explain查看执行计划（SQL性能优化）"><a href="#1-写完SQL先explain查看执行计划（SQL性能优化）" class="headerlink" title="1. 写完SQL先explain查看执行计划（SQL性能优化）"></a>1. 写完SQL先explain查看执行计划（SQL性能优化）</h4><p>日常开发写SQL的时候，尽量养成这个好习惯呀：写完SQL后，用explain分析一下，尤其注意走不走索引。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explain select userid,name,age from user </span><br><span class="line">where userid =10086 or age =18;</span><br></pre></td></tr></table></figure>
<h4 id="2-操作delete或者update语句，加个limit"><a href="#2-操作delete或者update语句，加个limit" class="headerlink" title="2. 操作delete或者update语句，加个limit"></a>2. 操作delete或者update语句，加个limit</h4><h4 id="3-设计表的时候，所有表和字段都添加相应的注释"><a href="#3-设计表的时候，所有表和字段都添加相应的注释" class="headerlink" title="3. 设计表的时候，所有表和字段都添加相应的注释"></a>3. 设计表的时候，所有表和字段都添加相应的注释</h4><h4 id="4-SQL书写格式，关键字大小保持一致，使用缩进"><a href="#4-SQL书写格式，关键字大小保持一致，使用缩进" class="headerlink" title="4. SQL书写格式，关键字大小保持一致，使用缩进"></a>4. SQL书写格式，关键字大小保持一致，使用缩进</h4><h4 id="5-尽量使用varchar代替-char。"><a href="#5-尽量使用varchar代替-char。" class="headerlink" title="5. 尽量使用varchar代替 char。"></a>5. 尽量使用varchar代替 char。</h4><h3 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h3><h4 id="1-树查询"><a href="#1-树查询" class="headerlink" title="1.树查询"></a>1.树查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">WITH RECURSIVE CTE_CONNECT_BY AS (</span><br><span class="line">SELECT 1 AS LEVEL,S.* FROM ELEC_RE_APPRO_ORG_LV S</span><br><span class="line"> WHERE UNIT_CODE = &#x27;1501&#x27;</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT LEVEL + 1 AS LEVEL, S.* FROM CTE_CONNECT_BY R INNER JOIN ELEC_RE_APPRO_ORG_LV S ON s.UNIT_CODE =  r.P_UNIT_NAME</span><br><span class="line">)</span><br><span class="line">SELECT UNIT_CODE FROM CTE_CONNECT_BY  WHERE UNIT_LEVEL = &#x27;1&#x27; </span><br></pre></td></tr></table></figure>
<h4 id="2-行转列"><a href="#2-行转列" class="headerlink" title="2. 行转列"></a>2. 行转列</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/09/09/%E8%BD%AF%E8%80%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/09/%E8%BD%AF%E8%80%83/" class="post-title-link" itemprop="url">计算机基本工作原理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-09-09 09:51:36 / 修改时间：19:52:18" itemprop="dateCreated datePublished" datetime="2020-09-09T09:51:36+08:00">2020-09-09</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/09/09/%E8%BD%AF%E8%80%83/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/09/09/%E8%BD%AF%E8%80%83/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>356</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="cpu指令"><a href="#cpu指令" class="headerlink" title="cpu指令"></a>cpu指令</h2><p>CPU中的程序计数器PC用于保存要执行的指令的地址，访问内存时，需先将内存地址送入存储器地址寄存器MAR中，向内存写入数据时，待写入的数据要先放入数据寄存器MUR。程序中的指令一般放在内存中，要执行时，首先要访问内存取得指令并保存在指令寄存器IR中。<br>计算机中指令的执行过程一般分为取指令、分析指令并获取操作数、运算和传送结果等阶段，每条指令被执行时都要经过这几个阶段。若CPU要执行的指令为:MOV&nbsp; RO，# I00（即将数值100传送到寄存器R0中），则CPU首先要完成的操作是将要执行的指令的地址送入程序计数器PC，访问内存以获取指令。</p>
<h2 id="软件过程框架"><a href="#软件过程框架" class="headerlink" title="软件过程框架"></a>软件过程框架</h2><p>UP是用例驱动的、以架构为核心、迭代和增量的软件过程框架，它提供了一种演进的特性。敏捷、测试驱动、持续集成是XP（极限编程）的特性。</p>
<h2 id="指令流水线"><a href="#指令流水线" class="headerlink" title="指令流水线"></a>指令流水线</h2><p><img src="/../images/3.JPG" alt="img"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/25/%E6%88%91%E7%9C%BC%E4%B8%AD%E7%9A%84%E8%BF%9C%E5%85%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/25/%E6%88%91%E7%9C%BC%E4%B8%AD%E7%9A%84%E8%BF%9C%E5%85%89/" class="post-title-link" itemprop="url">我眼中的远光</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-25 08:55:22" itemprop="dateCreated datePublished" datetime="2020-04-25T08:55:22+08:00">2020-04-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-10 10:30:15" itemprop="dateModified" datetime="2023-10-10T10:30:15+08:00">2023-10-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%BA%E7%94%9F%E6%84%9F%E6%82%9F/" itemprop="url" rel="index"><span itemprop="name">人生感悟</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/04/25/%E6%88%91%E7%9C%BC%E4%B8%AD%E7%9A%84%E8%BF%9C%E5%85%89/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/04/25/%E6%88%91%E7%9C%BC%E4%B8%AD%E7%9A%84%E8%BF%9C%E5%85%89/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          Welcome to my blog, enter password to read.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/04/25/%E6%88%91%E7%9C%BC%E4%B8%AD%E7%9A%84%E8%BF%9C%E5%85%89/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/04/03/%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/03/%E9%9B%86%E5%90%88/" class="post-title-link" itemprop="url">集合</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-03 21:57:47 / 修改时间：23:06:34" itemprop="dateCreated datePublished" datetime="2020-04-03T21:57:47+08:00">2020-04-03</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/04/03/%E9%9B%86%E5%90%88/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/04/03/%E9%9B%86%E5%90%88/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="HashMap、LinkedHashMap、ConcurrentHashMap、ArrayList、LinkedList的底层实现。"><a href="#HashMap、LinkedHashMap、ConcurrentHashMap、ArrayList、LinkedList的底层实现。" class="headerlink" title="HashMap、LinkedHashMap、ConcurrentHashMap、ArrayList、LinkedList的底层实现。"></a>HashMap、LinkedHashMap、ConcurrentHashMap、ArrayList、LinkedList的底层实现。</h3><h4 id="Hashmap"><a href="#Hashmap" class="headerlink" title="Hashmap"></a>Hashmap</h4><ol>
<li>Hashmap底层是基于数组，链表，红黑树的数据结构 是为了解决数组插入慢，链表查询慢的问题。存储的内容是键值对,并允许使用 null 值和 null 键,此类不保证映射的顺序，特别是它不保证该顺序恒久不变.HashMap不是线程安全的，如果想要线程安全的HashMap，可以通过Collections类的静态方法synchronizedMap获得线程安全的HashMap。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> Collections.synchronizedMap(<span class="keyword">new</span> <span class="title class_">HashMap</span>());</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>HashMap中主要是通过key的hashCode来计算hash值的，只要hashCode相同，计算出来的hash值就一样。如果存储的对象对多了，就有可能不同的对象所算出来的hash值是相同的，这就出现了所谓的hash冲突。解决hash冲突的方法有很多，HashMap底层是通过链表来解决hash冲突的。</li>
<li>HashMap存储元素的位置是通过 hash(key)&amp;(len-1)得到的len是数组的长度，</li>
<li>HashMap中一些关键的属性<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">transient</span> Entry[] table; <span class="comment">//存储元素的实体数组</span></span><br><span class="line"><span class="keyword">transient</span> <span class="type">int</span> size;<span class="comment">//存放元素的个数</span></span><br><span class="line"><span class="type">int</span> threshold; <span class="comment">//临界值 当实际大小超过临界值时，会进行扩容threshold = 加载因子*容量</span></span><br><span class="line"><span class="keyword">final</span> <span class="type">float</span> loadFactor; <span class="comment">//加载因子</span></span><br><span class="line"><span class="keyword">transient</span> <span class="type">int</span> modCount;<span class="comment">//被修改的次数</span></span><br></pre></td></tr></table></figure>
其中loadFactor加载因子是表示Hsah表中元素的填满的程度.<br>若:加载因子越大,填满的元素越多,好处是,空间利用率高了,但:冲突的机会加大了.链表长度会越来越长,查找效率降低。<br>反之,加载因子越小,填满的元素越少,好处是:冲突的机会减小了,但:空间浪费多了.表中的数据将过于稀疏（很多空间还没用，就开始扩容了）<br>冲突的机会越大,则查找的成本越高.<br>因此,必须在 “冲突的机会”与”空间利用率”之间寻找一种平衡与折衷. 这种平衡与折衷本质上是数据结构中有名的”时-空”矛盾的平衡与折衷.<br>　　如果机器内存足够，并且想要提高查询速度的话可以将加载因子设置小一点；相反如果机器内存紧张，并且对查询速度没有什么要求的话可以将加载因子设置大一点。不过一般我们都不用去设置它，让它取默认值0.75就好了。</li>
<li>HashMap put方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="literal">false</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">               <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)</span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">            ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">            <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>HashMap get方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">public</span> V <span class="title function_">get</span><span class="params">(Object key)</span> &#123;</span><br><span class="line">    Node&lt;K,V&gt; e;</span><br><span class="line">    <span class="keyword">return</span> (e = getNode(hash(key), key)) == <span class="literal">null</span> ? <span class="literal">null</span> : e.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Implements Map.get and related methods</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> hash hash for key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> key the key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the node, or null if none</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt; <span class="title function_">getNode</span><span class="params">(<span class="type">int</span> hash, Object key)</span> &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; <span class="type">int</span> n; K k;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) != <span class="literal">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (first = tab[(n - <span class="number">1</span>) &amp; hash]) != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (first.hash == hash &amp;&amp; <span class="comment">// always check first node</span></span><br><span class="line">            ((k = first.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line">        <span class="keyword">if</span> ((e = first.next) != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (first <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                <span class="keyword">return</span> ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">return</span> e;</span><br><span class="line">            &#125; <span class="keyword">while</span> ((e = e.next) != <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h4>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/22/%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/22/%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/" class="post-title-link" itemprop="url">开发中遇到的一些坑 </a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-22 21:42:28" itemprop="dateCreated datePublished" datetime="2020-03-22T21:42:28+08:00">2020-03-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-17 22:30:36" itemprop="dateModified" datetime="2022-05-17T22:30:36+08:00">2022-05-17</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/03/22/%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/03/22/%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9D%91/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>21 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="html-引用文件路径"><a href="#html-引用文件路径" class="headerlink" title="html 引用文件路径"></a>html 引用文件路径</h3><p><img src="/../images/2.JPG" alt="img"></p>
<h3 id="laydate插件使用方式"><a href="#laydate插件使用方式" class="headerlink" title="laydate插件使用方式"></a>laydate插件使用方式</h3><p>首先引入laydate.js</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> mounted() &#123;</span><br><span class="line"> <span class="built_in">this</span>.getaccountInfo(),</span><br><span class="line"><span class="built_in">this</span>.laydate.render(&#123;</span><br><span class="line">     elem: <span class="string">&#x27;#test&#x27;</span>,</span><br><span class="line">      type: <span class="string">&#x27;datetime&#x27;</span>,</span><br><span class="line">      format:<span class="string">&#x27; yyyy-MM-dd &#x27;</span>,</span><br><span class="line">      done:value=&gt;&#123;</span><br><span class="line">                       <span class="built_in">this</span>.documentForm.birth=value;</span><br><span class="line">                       &#125;</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>
<h3 id="数组比较"><a href="#数组比较" class="headerlink" title="数组比较"></a>数组比较</h3><p>在比较两个数组是否相等时，不能直接调用数组对象的”equals”方法，<br>要使用Arrays.equals方法。<br>    final String[] str1 &#x3D; { “aaa” , “bbb” , “ccc” };<br>    final String[] str2 &#x3D; { “aaa” , “bbb” , “ccc” };<br>    System.out.println(str1.equals(str2)); &#x2F;&#x2F;false;<br>    System.out.println(Arrays.equals(str1, str2)); &#x2F;&#x2F;true</p>
<h3 id="对象比较"><a href="#对象比较" class="headerlink" title="对象比较"></a>对象比较</h3><ol>
<li><p>Java中的对象比较有两种形式：简单类型值比较和引用类型比较。<br>其中引用类型的比较可以使用“&#x3D;&#x3D;”或者“equals()”。<br>其中“&#x3D;&#x3D;”比较的是两个对象内存中的地址是否相同，而“equals”比较遵循以下规则：<br>(1) 对于字符串变量来说，equals()比较的两边对象的内容；<br>(2) 对于非字符串变量来说，equals()比较的内存的首地址；</p>
<p>  String s1 &#x3D; “abc”;<br>  String s2 &#x3D; “abc”;<br>  String s3 &#x3D; new String(“abc”);<br>  String s4 &#x3D; new String(“abc”);<br>  System.out.println(s1 &#x3D;&#x3D; s2); &#x2F;&#x2F;true, 因为java常量池<br>  System.out.println(s1.equals(s2)); &#x2F;&#x2F;true<br>  System.out.println(s3.equals(s4)); &#x2F;&#x2F;true, equal比较的是内容<br>  System.out.println(s3 &#x3D;&#x3D; s4); &#x2F;&#x2F;false, &#x3D;&#x3D;比较的是首地址,所以是false<br>  Student stu1 &#x3D; new Student();<br>  Student stu2 &#x3D; new Student();<br>  System.out.println(stu1.equals(stu2)); &#x2F;&#x2F;false,因为不是同一对象<br>  System.out.println(stu1 &#x3D;&#x3D; stu2); &#x2F;&#x2F;false,因为不是同一对象</p>
</li>
<li><p>如果对定义类的java.lang.Object.equals()方法进行重写，<br>那么java.lang.Object.hashCode()这个方法也要同步重写，<br>或者两个方法都从基类继承，不允许单独重写其中一个。</p>
</li>
</ol>
<h3 id="对象克隆"><a href="#对象克隆" class="headerlink" title="对象克隆"></a>对象克隆</h3><ol>
<li><p>重写clone()方法，应调用super.clone()<br>重写clone()方法，必须实现Cloneable接口<br>Address类实现了Cloneable接口，并且重写clone()方法。<br>public class Address implements Cloneable {</p>
<p>  private String add;</p>
<p>  public String getAdd() {<br>  return add;<br>  }</p>
<p>  public void setAdd(String add) {<br>  this.add &#x3D; add;<br>  }</p>
<p>  @Override<br>  public Object clone() {<br>  Address address &#x3D; null;<br>  try {<br>      address &#x3D; (Address) super.clone();<br>  } catch (CloneNotSupportedExceptione e) {<br>      e.printStackTrace();<br>  }<br>  return address;<br>  }</p>
</li>
</ol>
<p>}</p>
<ol start="2">
<li><p>Student类实现了Cloneable接口，并重写了clone()方法。<br>由于Student类定义了addr属性，所以要实现Student对象的克隆，<br>除了对象本身调用super.clone()方法，<br>还需要调用addr属性的clone()方法实现深度克隆。<br>public class Student implements Cloneable {<br>  private int number;</p>
<p>  private Address addr;</p>
<p>  public Address getAddr() {<br>  return addr;<br>  }</p>
<p>  public void setAddr(Address addr) {<br>  this.addr &#x3D; addr;<br>  }<br>  @Override<br>  public Object clone() {<br>  Student student &#x3D; null;<br>  try {<br>      &#x2F;&#x2F;浅复制<br>      student &#x3D; (Student) super.clone();<br>  } catch (CloneNotSupportedException e) {<br>      e.printStackTrace();<br>  }<br>  &#x2F;&#x2F;深度复制<br>  student.addr &#x3D; (Address) addr.clone();<br>  return student;<br>  }</p>
</li>
</ol>
<p>}</p>
<ol start="3">
<li>慎用Object的clone方法来拷贝对象。<br>由于对象的clone方法默认是浅拷贝，若想实现深拷贝需要重写clone方法实现属性对象的拷贝。<br>下面是对象深度克隆的一种实现方式。此方式需要类定义实现Serializable接口，<br>通过对象的序列化和反序列化实现克隆，调用此方法可以实现真正的深度克隆。<br>  public Object deepClone() {<br>  Object outer &#x3D; null;<br>  try {<br>      &#x2F;&#x2F; 将该对象序列化成流<br>      ByteArrayOutputStream baos &#x3D; new ByteArrayOutputStream();<br>      ObjectOutputStream oos &#x3D; new ObjectOutputStream(baos);<br>      oos.writeObject(this);<br><br>      &#x2F;&#x2F;将流序列化成对象<br>      ByteArrayInputStream bais &#x3D; new ByteArrayInputStream(baos.toByteArray());<br>      ObjectInputStream ois &#x3D; new ObjectInputStream(bais);<br>      outer &#x3D; ois.readObject();<br>  } catch (IOException e) {<br>      e.printStackTrace();<br>  } catch (ClassNotFoundException e) {<br>      e.printStackTrace();<br>  }<br>  return outer;<br>  }</li>
<li>对象创建遵守“按需创建”的原则，将对象的创建成本降至最小。<br>public Student findStudent(List<Student> list) {<br>  &#x2F;&#x2F; 不能直接创建Student对象<br>  Student stu &#x3D; null;<br>  if(null !&#x3D; list &amp;&amp; !list.isEmpty()) {<br>  stu &#x3D; list.get(0);<br>  } else {<br>  stu &#x3D; new Student();<br>  }<br>  return stu;<br>}</li>
</ol>
<h2 id="主要任务"><a href="#主要任务" class="headerlink" title="主要任务"></a>主要任务</h2><ol>
<li>在原有的发票暂估页面上加上结算成分列  <a target="_blank" rel="noopener" href="http://127.0.0.1:9080/grm/electricity.bs/gansu/gdzgcx/index.html">页面地址</a></li>
<li>在冲销单上加上结算成分，推单映射</li>
<li>导入发票时，增加是否重复或者已冲销的提示<br><img src="/images/2.png" alt="图片"></li>
</ol>
<h2 id="学习到了什么"><a href="#学习到了什么" class="headerlink" title="学习到了什么"></a>学习到了什么</h2><h3 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h3><ol>
<li>因为结算成分有多种，所以原来的sql语句要改造，使用unpivot()函数进行列转行。<font  color=#FF0000>注意： unpivot() 与between and 不能一起使用</font><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">原来的sql 查询发票号码202we17的预估数据:</span><br><span class="line">       SELECT ZGD.GID,TO_CHAR(ZGD.TTIME,&#x27;yyyy-mm&#x27;) DFNY,INVOICE.KPDW WLDW,SUBSTR(ZGD.ZBDX,6) JZ,INVOICE.DC,INVOICE.FPHM,ZGD.DWDH,</span><br><span class="line">         ZGD.ZD0020 JSDL,ZGD.ZD0026 GDCB,ZGD.ZD0111 SE,ZGD.ZD0021 DJ,ZGD.ZD0024 YFGDF </span><br><span class="line">       FROM T_RE_INVOICE_DETAIL INVOICE, </span><br><span class="line">            (SELECT A.GID,A.ZBDX,A.ZD0020,A.ZD0026,A.ZD0111,ZD0024,A.ZD0387,A.ZD5515, A.ZD0021,B.TTIME,A.DWDH</span><br><span class="line">               FROM XT186YWBILLFTZB A, XTYWBILL B</span><br><span class="line">           WHERE A.YWID = B.GID AND NVL(B.BZWC,0) = &#x27;1&#x27;) ZGD</span><br><span class="line">       WHERE &#x27;6019.&#x27; || INVOICE.DC=ZGD.ZD0387 </span><br><span class="line">       AND INVOICE.FPHM = &#x27;202we17&#x27; </span><br><span class="line">      AND NVL(INVOICE.CXYWID, 0) &gt; 0 </span><br><span class="line">  AND EXISTS (SELECT 1 FROM T_RE_ZGSJ_CX ZGCX</span><br><span class="line">     WHERE ZGCX.GID = ZGD.GID AND ZGCX.CXYWID = INVOICE.CXYWID) </span><br><span class="line">       ORDER BY ZGD.TTIME,ZGD.ZD0026 DESC;</span><br><span class="line"></span><br><span class="line">改造后的sql:</span><br><span class="line">      SELECT ZGD.GID,DL,DJS,DFS,JSCF,TO_CHAR(ZGD.TTIME,&#x27;yyyy-mm&#x27;) DFNY,INVOICE.KPDW WLDW,SUBSTR(ZGD.ZBDX,6) JZ,INVOICE.DC,INVOICE.FPHM,ZGD.DWDH,</span><br><span class="line">         ZGD.ZD0020 JSDL,ZGD.ZD0026 GDCB,ZGD.ZD0111 SE,ZGD.ZD0021 DJ,ZGD.ZD0024 YFGDF </span><br><span class="line">       FROM ( SELECT A.GID,A.ZBDX,A.ZD0020,A.ZD0026,A.ZD0111,ZD0024,A.ZD0387,A.ZD5515, A.ZD0021,A.DWDH,</span><br><span class="line">            NVL(A.ZD0027,0) ZD0027,NVL(A.ZD0390,0) ZD0390,NVL(A.ZD0029,0) ZD0029,</span><br><span class="line">            NVL(A.ZD0070,0) ZD0070,NVL(A.ZD0071,0) ZD0071,NVL(A.ZD0072,0) ZD0072,</span><br><span class="line">            NVL(A.ZD0042,0) ZD0042,NVL(A.ZD0391,0) ZD0391,NVL(A.ZD0044,0) ZD0044,</span><br><span class="line">            NVL(A.ZD0056,0) ZD0056,NVL(A.ZD0057,0) ZD0057,NVL(A.ZD0058,0) ZD0058,</span><br><span class="line">            NVL(A.ZD0094,0) ZD0094,NVL(A.ZD0095,0) ZD0095,NVL(A.ZD0096,0) ZD0096, </span><br><span class="line">            NVL(A.ZD5482,0) ZD5482,NVL(A.ZD0466,0) ZD0466,NVL(A.ZD5483,0) ZD5483,</span><br><span class="line">            NVL(A.ZD0082,0) ZD0082,NVL(A.ZD0093,0) ZD0083,NVL(A.ZD0084,0) ZD0084, </span><br><span class="line">            NVL(A.ZD0039,0) ZD0039,NVL(A.ZD0463,0) ZD0463,NVL(A.ZD0041,0) ZD0041,</span><br><span class="line">            NVL(A.ZD5517,0) ZD5517,NVL(A.ZD5518,0) ZD5518,NVL(A.ZD5516,0) ZD5516,</span><br><span class="line">            NVL(A.ZD5520,0) ZD5520,NVL(A.ZD5519,0) ZD5519,NVL(A.ZD5521,0) ZD5521,</span><br><span class="line">            B.TTIME </span><br><span class="line">              FROM XT186YWBILLFTZB A, XTYWBILL B</span><br><span class="line">           WHERE A.YWID = B.GID  AND NVL(B.BZWC,0) =&#x27;1&#x27; )</span><br><span class="line">            UnPivot((DL,DJS,DFS) for JSCF in (</span><br><span class="line">     (ZD0027,ZD0390,ZD0029) as 0,(ZD0070,ZD0071,ZD0072) as 1,</span><br><span class="line">       (ZD0042,ZD0391,ZD0044) as 2,(ZD0056,ZD0057,ZD0058) as 3,</span><br><span class="line">       (ZD0094,ZD0095,ZD0096) as 4,(ZD5482,ZD0466,ZD5483) as 5,(ZD0082,ZD0083,ZD0084) as 6,(ZD0039,ZD0463,ZD0041) as 7,</span><br><span class="line">       (ZD5517,ZD5518,ZD5516) as 8,(ZD5520,ZD5519,ZD5521) as 9))  ZGD,T_RE_INVOICE_DETAIL INVOICE</span><br><span class="line">       WHERE &#x27;6019.&#x27; || INVOICE.DC=ZGD.ZD0387 </span><br><span class="line">        AND INVOICE.FPHM = &#x27;20e0817&#x27; </span><br><span class="line">      AND NVL(INVOICE.CXYWID, 0) &gt; 0 </span><br><span class="line">  AND EXISTS (SELECT 1 FROM T_RE_ZGSJ_CX ZGCX</span><br><span class="line">     WHERE ZGCX.GID = ZGD.GID AND ZGCX.CXYWID = INVOICE.CXYWID) </span><br><span class="line">       ORDER BY ZGD.TTIME,ZGD.ZD0026 DESC;</span><br></pre></td></tr></table></figure></li>
<li>推单映射 在Map&lt;String, String&gt; getFieldMap() 函数中增加推单映射，并在buildCxDataMap函数中构造冲销数据，把前端传来的数据放在map中。后续使用pushBill()函数进行推单生成冲销单据。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//推单映射</span><br><span class="line">		fieldMap.put(&quot;ZBDX&quot;, &quot;ZBDX&quot;);</span><br><span class="line">		fieldMap.put(&quot;ZD8515&quot;, &quot;ZD8515&quot;);</span><br><span class="line">		fieldMap.put(&quot;ZD0387&quot;, &quot;ZD0387&quot;);</span><br><span class="line">		fieldMap.put(&quot;ZD0024&quot;, &quot;ZD0024&quot;);</span><br><span class="line">		fieldMap.put(&quot;ZD0026&quot;, &quot;ZD0026&quot;);</span><br><span class="line">		</span><br><span class="line">		fieldMap.put(&quot;ZD0027&quot;, &quot;ZD0027&quot;); //商运电量</span><br><span class="line">		fieldMap.put(&quot;ZD0390&quot;, &quot;ZD0390&quot;); //商运电价</span><br><span class="line">		fieldMap.put(&quot;ZD0029&quot;, &quot;ZD0029&quot;); //商运电费</span><br><span class="line">		fieldMap.put(&quot;ZD0070&quot;, &quot;ZD0070&quot;); //外送电量</span><br><span class="line">		fieldMap.put(&quot;ZD0071&quot;, &quot;ZD0071&quot;); //外送电价</span><br><span class="line">		fieldMap.put(&quot;ZD0072&quot;, &quot;ZD0072&quot;); //外送电费</span><br><span class="line">// 获取冲销数据</span><br><span class="line">		cxDataMap.put(&quot;ZD0024&quot;, yfgdf);</span><br><span class="line">		cxDataMap.put(&quot;ZD0026&quot;, gdcb);</span><br><span class="line">		cxDataMap.put(&quot;ZD0027&quot;, ygdatas.get(&quot;zd0027&quot;)); //商运电量</span><br><span class="line">		cxDataMap.put(&quot;ZD0390&quot;, ygdatas.get(&quot;zd0390&quot;)); //商运电价</span><br><span class="line">		cxDataMap.put(&quot;ZD0029&quot;, ygdatas.get(&quot;zd0029&quot;)); //商运电费</span><br><span class="line">		cxDataMap.put(&quot;ZD0070&quot;, ygdatas.get(&quot;zd0070&quot;)); //外送电量</span><br><span class="line">		cxDataMap.put(&quot;ZD0071&quot;, ygdatas.get(&quot;zd0071&quot;)); //外送电价</span><br></pre></td></tr></table></figure></li>
<li>增加一个检查发票是否重复或者已冲销的接口<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">final Map&lt;String, Object&gt; results = new HashMap&lt;String, Object&gt;();</span><br><span class="line">int count = 0;</span><br><span class="line">for (DfInvoiceDetailVO vo : reInvoiceDetailVOList) &#123;</span><br><span class="line">	final List&lt;DfInvoiceDetailBO&gt; result = getReFpcxDao().queryImpDataByFphm(vo.getFphm());</span><br><span class="line">	if (result != null &amp;&amp; result.size() &gt; 0) &#123;</span><br><span class="line">		count++;	</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line">results.put(&quot;count&quot;, count);</span><br><span class="line">return results;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h3><ol>
<li>使用’groups’属性对表格中相同的成分进行合并</li>
<li>自己构造一个复选框ckbox列<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">	var colNames = [&#x27;&#x27;,&#x27;序号&#x27;,&#x27;gid&#x27;,&#x27;电费年月&#x27;,&#x27;机组&#x27;,&#x27;往来单位&#x27;,&#x27;电厂&#x27;,&#x27;结算电量&#x27;,&#x27;购电成本&#x27;,&#x27;税额&#x27;,&#x27;应付购电费&#x27;,&#x27;结算成分&#x27;,&#x27;电量&#x27;,&#x27;电价&#x27;,&#x27;电费&#x27;];</span><br><span class="line">	var colModels = [</span><br><span class="line">	 &#123;&#x27;name&#x27;:&#x27;ckbox&#x27;,&#x27;editType&#x27;:&#x27;checkBox&#x27;,&#x27;groups&#x27;:true,&#x27;align&#x27;:&#x27;center&#x27;,&#x27;filter&#x27;:false,&#x27;sort&#x27;:false,&#x27;selectAll&#x27;:true,&#x27;width&#x27;:60,&#x27;lockWidth&#x27;:true&#125;,</span><br><span class="line">	 ];</span><br><span class="line">	pageParam.ycxGrid = $(&quot;#ycxTable&quot;).qzzquerygrid(&#123;</span><br><span class="line">		&quot;primaryKey&quot;:[&quot;gid&quot;],</span><br><span class="line">		&quot;Align&quot;:&quot;alClient&quot;,//大小撑满父元素</span><br><span class="line">		&quot;footerrow&quot;:true,</span><br><span class="line">		&quot;shrinkToFit&quot;:true,//表格宽度填满</span><br><span class="line">		&quot;rownumbers&quot;:false,//显示序号列</span><br><span class="line">		&quot;multiselect&quot;:false,//是否复选</span><br><span class="line">		&quot;colNames&quot;: colNames,</span><br><span class="line">		&quot;colModels&quot;: colModels</span><br><span class="line">	&#125;);</span><br><span class="line">       //id名称转换</span><br><span class="line">       pageParam.ycxGrid.setTransIDName(&#x27;jscf&#x27;,&#123;&#x27;0&#x27;:&#x27;商运&#x27;,&#x27;1&#x27;:&#x27;外送&#x27;,&#x27;2&#x27;:&#x27;超基数&#x27;,&#x27;3&#x27;:&#x27;替代&#x27;,&#x27;4&#x27;:&#x27;协议&#x27;,&#x27;5&#x27;:&#x27;可再生能源&#x27;,&#x27;6&#x27;:&#x27;调试&#x27;,&#x27;7&#x27;:&#x27;脱硫加价&#x27;,&#x27;8&#x27;:&#x27;脱硝加价&#x27;,&#x27;9&#x27;:&#x27;除尘&#x27;,&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       //合并单元格前事件，对所需要列进行合并</span><br><span class="line">	pageParam.ycxGrid.bind(&quot;onBeforeGroups&quot;, function (colModel, priorNode, curNode, ismerge) &#123;</span><br><span class="line">			var colName = colModel.name;</span><br><span class="line">			if(colName == &quot;ckbox&quot;||colName == &quot;gid&quot;  ||colName == &quot;index&quot;  || colName == &quot;dfny&quot; || colName == &quot;jz&quot; || colName == &quot;wldw&quot; || colName == &quot;dc&quot;|| colName == &quot;jsdl&quot;|| colName == &quot;gdcb&quot;|| colName == &quot;se&quot;|| colName == &quot;yfgdf&quot;) &#123;</span><br><span class="line">						if(this.getValue(&quot;gid&quot;, priorNode) == this.getValue(&quot;gid&quot;, curNode)) &#123;</span><br><span class="line">							 return true;</span><br><span class="line">						&#125; else &#123;</span><br><span class="line">							 return false;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">      	//构建表格序号，对于重复的序号过滤掉</span><br><span class="line">   function setIndex(datas)&#123;</span><br><span class="line">	var index = 0;</span><br><span class="line">	var preGid;</span><br><span class="line">	for(var i=0;i&lt;datas.length;i++)&#123;</span><br><span class="line">		var data = datas[i];</span><br><span class="line">		if(data.gid != preGid)&#123;</span><br><span class="line">			preGid = data.gid;</span><br><span class="line">			index+=1;</span><br><span class="line">			data.index = index;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			data.index = index;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return datas;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>refresh() 和 refreshTitle() 刷新表格和表头，程序控制取消掉ckbox勾选记号</li>
<li>setTotalValue() 对某一列进行合计<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//判断元素是否在数组中</span><br><span class="line">function isarr(arr,value)</span><br><span class="line">&#123;</span><br><span class="line">	if(arr.indexOf&amp;&amp;typeof(arr.indexOf)==&#x27;function&#x27;)</span><br><span class="line">	&#123;</span><br><span class="line">		var index=arr.indexOf(value);</span><br><span class="line">		if(index&gt;=0)</span><br><span class="line">		&#123;</span><br><span class="line">			return true;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return false</span><br><span class="line">&#125;</span><br><span class="line">   // 对相关成分列进行合计</span><br><span class="line">	pageParam.ycxGrid.setTotalValue(&quot;jsdl&quot;,jsdl);</span><br><span class="line">pageParam.ycxGrid.setTotalValue(&quot;gdcb&quot;,gdcb);</span><br><span class="line">pageParam.ycxGrid.setTotalValue(&quot;se&quot;,se);</span><br><span class="line">pageParam.ycxGrid.setTotalValue(&quot;yfgdf&quot;,yfgdf);</span><br></pre></td></tr></table></figure></li>
<li>数字格式化 解决出现科学计数法的问题<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  function formatNum(value) &#123;</span><br><span class="line">var re = /(?=(?!(\b))(\d&#123;3&#125;)+$)/g;</span><br><span class="line">  	if (!$util.isNullOrEmpty(value)) &#123;</span><br><span class="line">	var m =value.toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/)	</span><br><span class="line">	if(parseInt(m[2])&lt;-2)</span><br><span class="line">	&#123;</span><br><span class="line">		return &quot;0.0&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	return value.toFixed(2).toString().replace(re,&quot;,&quot;);</span><br><span class="line">  	&#125; else &#123;</span><br><span class="line">  		return &quot;0.0&quot;;</span><br><span class="line">  	&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="反思与总结"><a href="#反思与总结" class="headerlink" title="反思与总结"></a>反思与总结</h2><ol>
<li>沟通很重要，文字沟通&lt;电话沟通&lt;现场沟通</li>
<li>理解好需求，考虑清楚，再开始动手，千万不能盲目下手。</li>
<li>在原有的功能改代码，先把原来的代码复制一份。出现问题时，便于查找问题。</li>
<li>有不清楚的地方尽快问，时间拖的越久效率越低。</li>
<li>对于代码，尽可能让代码有健壮性，能不写死的地方尽量不要写死。</li>
</ol>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><ol>
<li><p>数字格式化 解决出现科学计数法的问题</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> function formatNum(value) &#123;</span><br><span class="line">var re = /(?=(?!(\b))(\d&#123;3&#125;)+$)/g;</span><br><span class="line">  	if (!$util.isNullOrEmpty(value)) &#123;</span><br><span class="line">	var m =value.toExponential().match(/\d(?:\.(\d*))?e([+-]\d+)/)	</span><br><span class="line">	if(parseInt(m[2])&lt;-2)</span><br><span class="line">	&#123;</span><br><span class="line">		return &quot;0.0&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	return value.toFixed(2).toString().replace(re,&quot;,&quot;);</span><br><span class="line">  	&#125; else &#123;</span><br><span class="line">  		return &quot;0.0&quot;;</span><br><span class="line">  	&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>变量不能带有小数点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var  s.56;  //这种写法会报错</span><br></pre></td></tr></table></figure></li>
<li><p>子页面控制父页面的元素 通过window.parent.$可以控制父页面元素的</p>
</li>
<li><p>js中map和list互转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">let showList =  [</span><br><span class="line">	&#123;name: &#x27;西游记&#x27;, id: 1, content: &quot;hhh&quot;&#125;,</span><br><span class="line">    &#123;name: &#x27;三国演义&#x27;, id: 2, content: &quot;hhh&quot;&#125;,</span><br><span class="line">    &#123;name: &#x27;水浒传&#x27;, id: 3, content: &quot;hhh&quot;&#125;,</span><br><span class="line">    &#123;name: &#x27;红楼梦&#x27;, id: 4, content: &quot;hhh&quot;&#125;</span><br><span class="line">];      </span><br><span class="line">let map = &#123;&#125;;</span><br><span class="line">this.showList.forEach(row =&gt; &#123;</span><br><span class="line">      map[row.id] = &#123;name: row.name, content: row.content&#125;;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(map);</span><br><span class="line">let array = [];</span><br><span class="line">for(let key in map) &#123;</span><br><span class="line">      let obj = map[key];</span><br><span class="line">      obj.id = key;</span><br><span class="line">      array.push(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(array);</span><br></pre></td></tr></table></figure></li>
<li><p>对于查出来的list，在取数据时，一定要先做空判断</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">final List&lt;Map&gt; list = getSqlTemplate().findBySQLWithoutRowNumLimit(gdssql, inParamMap, Map.class);</span><br><span class="line">if (list.isEmpty() || list.size() == 0) &#123;</span><br><span class="line">	return list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在sql中， null与任何数做运算和比较 其结果都是null。</p>
</li>
<li><p>用hibernate 自带的方法更新时，要注意映射的主键是否为空，因为 hibernate 更新方法是通过主键去更新的。</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/03/02/mybatis-Generator%E7%9A%84%E4%BD%BF%E7%94%A8-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/02/mybatis-Generator%E7%9A%84%E4%BD%BF%E7%94%A8-1/" class="post-title-link" itemprop="url">mybatis-Generator的使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-02 16:07:42 / 修改时间：16:09:48" itemprop="dateCreated datePublished" datetime="2020-03-02T16:07:42+08:00">2020-03-02</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/03/02/mybatis-Generator%E7%9A%84%E4%BD%BF%E7%94%A8-1/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/03/02/mybatis-Generator%E7%9A%84%E4%BD%BF%E7%94%A8-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Mybatis-Generator介绍"><a href="#Mybatis-Generator介绍" class="headerlink" title="Mybatis-Generator介绍"></a>Mybatis-Generator介绍</h3><p>Mybatis-Generator可以帮助我们自动生成很多结构化的代码，比如每张表对应的Entity、Mapper接口和Xml文件，可以省去很多繁琐的工作。</p>
<h3 id="使用指南"><a href="#使用指南" class="headerlink" title="使用指南"></a>使用指南</h3><ol>
<li>在pom文件中添加插件依赖：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- mybatis generator 自动生成代码插件 --&gt;</span><br><span class="line">&lt;plugin&gt;</span><br><span class="line">  &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.3</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">    &lt;!-- generator 工具配置文件的位置 --&gt;</span><br><span class="line">  &lt;configuration&gt;</span><br><span class="line">   &lt;configurationFile&gt;</span><br><span class="line"> $&#123;basedir&#125;/src/main/resources/generator/generatorConfig.xml</span><br><span class="line">   &lt;/configurationFile&gt;</span><br><span class="line">   &lt;overwrite&gt;<span class="literal">true</span>&lt;/overwrite&gt;</span><br><span class="line">   &lt;verbose&gt;<span class="literal">true</span>&lt;/verbose&gt;</span><br><span class="line">  &lt;/configuration&gt;</span><br><span class="line"> &lt;/plugin&gt;  </span><br></pre></td></tr></table></figure></li>
<li>将mybatis-generator配置文件放入resource&#x2F;generator目录下，文件名为generatorConfig.xml，内容如下:<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE generatorConfiguration</span><br><span class="line">     PUBLIC <span class="string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span><br><span class="line">     <span class="string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span><br><span class="line">&lt;generatorConfiguration&gt;</span><br><span class="line"></span><br><span class="line"> &lt;!-- 数据库驱动:选择你的本地硬盘上面的数据库驱动包--&gt;</span><br><span class="line"></span><br><span class="line"> &lt;classPathEntry  location=<span class="string">&quot;D:\maven-repository\mysql\mysql-connector-java\8.0.11\mysql-connector-java-8.0.11.jar&quot;</span>/&gt;</span><br><span class="line"> &lt;context id=<span class="string">&quot;DB2Tables&quot;</span>  targetRuntime=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span><br><span class="line">     &lt;commentGenerator&gt;</span><br><span class="line">         &lt;property name=<span class="string">&quot;suppressDate&quot;</span> value=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">         &lt;!-- 是否去除自动生成的注释 <span class="literal">true</span>：是 ： <span class="literal">false</span>:否 --&gt;</span><br><span class="line">         &lt;property name=<span class="string">&quot;suppressAllComments&quot;</span> value=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">     &lt;/commentGenerator&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!--数据库链接URL，用户名、密码 --&gt;</span><br><span class="line"></span><br><span class="line">     &lt;jdbcConnection driverClass=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span> connectionURL=<span class="string">&quot;jdbc:mysql://127.0.0.1/lan?serverTimezone=UTC&quot;</span> userId=<span class="string">&quot;root&quot;</span> password=<span class="string">&quot;111111&quot;</span>&gt;</span><br><span class="line">     &lt;/jdbcConnection&gt;</span><br><span class="line">     &lt;javaTypeResolver&gt;</span><br><span class="line">         &lt;property name=<span class="string">&quot;forceBigDecimals&quot;</span> value=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line">     &lt;/javaTypeResolver&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!-- 生成模型的包名和位置--&gt;</span><br><span class="line"></span><br><span class="line">     &lt;javaModelGenerator targetPackage=<span class="string">&quot;com.ideasfly.dao.entity&quot;</span> targetProject=<span class="string">&quot;src/main/java&quot;</span>&gt;</span><br><span class="line">         &lt;property name=<span class="string">&quot;enableSubPackages&quot;</span> value=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">         &lt;property name=<span class="string">&quot;trimStrings&quot;</span> value=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">     &lt;/javaModelGenerator&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!-- 生成映射文件的包名和位置--&gt;</span><br><span class="line"></span><br><span class="line">     &lt;sqlMapGenerator targetPackage=<span class="string">&quot;com.ideasfly.dao.mapper&quot;</span> targetProject=<span class="string">&quot;src/main/java&quot;</span>&gt;</span><br><span class="line">         &lt;property name=<span class="string">&quot;enableSubPackages&quot;</span> value=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">     &lt;/sqlMapGenerator&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!-- 生成DAO的包名和位置--&gt;</span><br><span class="line"></span><br><span class="line">     &lt;javaClientGenerator type=<span class="string">&quot;XMLMAPPER&quot;</span> targetPackage=<span class="string">&quot;com.ideasfly.dao.mapper&quot;</span> targetProject=<span class="string">&quot;src/main/java&quot;</span>&gt;</span><br><span class="line">         &lt;property name=<span class="string">&quot;enableSubPackages&quot;</span> value=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">     &lt;/javaClientGenerator&gt;</span><br><span class="line"></span><br><span class="line">     &lt;!-- 要生成的表 tableName是数据库中的表名或视图名 domainObjectName是实体类名--&gt;</span><br><span class="line"></span><br><span class="line">     &lt;table tableName=<span class="string">&quot;dicom_file&quot;</span> domainObjectName=<span class="string">&quot;DicomFile&quot;</span> enableCountByExample=<span class="string">&quot;false&quot;</span> enableUpdateByExample=<span class="string">&quot;false&quot;</span> enableDeleteByExample=<span class="string">&quot;false&quot;</span> enableSelectByExample=<span class="string">&quot;false&quot;</span> selectByExampleQueryId=<span class="string">&quot;false&quot;</span>/&gt;</span><br><span class="line"> &lt;/context&gt;</span><br><span class="line">&lt;/generatorConfiguration&gt;</span><br></pre></td></tr></table></figure></li>
<li>运行插件，生成代码，其中插件位置在MavenProject中的Plugins下，如图所示，运行即可</li>
</ol>



      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/02/29/jwt%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/29/jwt%E4%BB%8B%E7%BB%8D/" class="post-title-link" itemprop="url">jwt介绍 </a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-29 20:50:06" itemprop="dateCreated datePublished" datetime="2020-02-29T20:50:06+08:00">2020-02-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-02 16:03:33" itemprop="dateModified" datetime="2020-03-02T16:03:33+08:00">2020-03-02</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/02/29/jwt%E4%BB%8B%E7%BB%8D/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/29/jwt%E4%BB%8B%E7%BB%8D/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="什么是JWT"><a href="#什么是JWT" class="headerlink" title="什么是JWT"></a>什么是JWT</h3><p>JSON Web Token（JWT）是目前最流行的跨域身份验证解决方案</p>
<p>Json web token (JWT), 是为了在网络应用环境间传递声明而执行的一种基于JSON的开放标准（(RFC 7519).该token被设计为紧凑且安全的，特别适用于分布式站点的单点登录（SSO）场景。JWT的声明一般被用来在身份提供者和服务提供者间传递被认证的用户身份信息，以便于从资源服务器获取资源，也可以增加一些额外的其它业务逻辑所必须的声明信息，该token也可直接被用于认证，也可被加密</p>
<h3 id="传统的session认证"><a href="#传统的session认证" class="headerlink" title="传统的session认证"></a>传统的session认证</h3><p>http协议本身是一种无状态的协议，如果用户向我们的应用提供了用户名和密码来进行用户认证，那么下一次请求时，用户还要再一次进行用户认证才行，因为根据http协议，我们并不能知道是哪个用户发出的请求，所以为了让我们的应用能识别是哪个用户发出的请求，我们只能在服务器存储一份用户登录的信息，这份登录信息会在响应时传递给浏览器，告诉其保存为cookie,以便下次请求时发送给我们的应用，这样我们的应用就能识别请求来自哪个用户了,这就是传统的基于session认证。</p>
<p>但是这种基于session的认证使应用本身很难得到扩展，随着不同客户端用户的增加，独立的服务器已无法承载更多的用户，而这时候基于session认证应用的问题就会暴露出来.</p>
<h3 id="基于session认证所显露的问题"><a href="#基于session认证所显露的问题" class="headerlink" title="基于session认证所显露的问题"></a>基于session认证所显露的问题</h3><p><strong>Session:</strong> 每个用户经过我们的应用认证之后，我们的应用都要在服务端做一次记录，以方便用户下次请求的鉴别，通常而言session都是保存在内存中，而随着认证用户的增多，服务端的开销会明显增大。</p>
<p><strong>扩展性:</strong> 用户认证之后，服务端做认证记录，如果认证的记录被保存在内存中的话，这意味着用户下次请求还必须要请求在这台服务器上,这样才能拿到授权的资源，这样在分布式的应用上，相应的限制了负载均衡器的能力。这也意味着限制了应用的扩展能力。</p>
<p><strong>CSRF:</strong> 因为是基于cookie来进行用户识别的, cookie如果被截获，用户就会很容易受到跨站请求伪造的攻击。</p>
<h3 id="基用户使用用户名密码来请求服务器"><a href="#基用户使用用户名密码来请求服务器" class="headerlink" title="基用户使用用户名密码来请求服务器"></a>基用户使用用户名密码来请求服务器</h3><ol>
<li>服务器进行验证用户的信息</li>
<li>服务器通过验证发送给用户一个token</li>
<li>客户端存储token，并在每次请求时附送上这个token值</li>
<li>服务端验证token值，并返回数据于token的鉴权机制</li>
</ol>
<p> 这个token必须要在每次请求时传递给服务端，它应该保存在请求头里， 另外，服务端要支持CORS(跨来源资源共享)策略，一般我们在服务端这么做就可以了Access-Control-Allow-Origin: *。</p>
<h3 id="JWT的构成"><a href="#JWT的构成" class="headerlink" title="JWT的构成"></a>JWT的构成</h3><p>第一部分我们称它为头部（header),第二部分我们称其为载荷（payload, 类似于飞机上承载的物品)H，第三部分是签证（signature).</p>
<h4 id="Header头部"><a href="#Header头部" class="headerlink" title="Header头部"></a>Header头部</h4><p>jwt的头部承载两部分信息：</p>
<ol>
<li>声明类型，这里是jwt</li>
<li>声明加密的算法 通常直接使用 HMAC SHA256<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&#x27;typ&#x27;</span>: <span class="string">&#x27;JWT&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;alg&#x27;</span>: <span class="string">&#x27;HS256&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
然后将头部进行base64加密（该加密是可以对称解密的),构成了第一部分.</li>
</ol>
<h4 id="playload"><a href="#playload" class="headerlink" title="playload"></a>playload</h4><p>载荷就是存放有效信息的地方。这些有效信息包含三个部分</p>
<ol>
<li><p>标准中注册的声明</p>
</li>
<li><p>公共的声明</p>
</li>
<li><p>私有的声明</p>
</li>
</ol>
<p>标准中注册的声明 (建议但不强制使用) ：</p>
<p>iss: jwt签发者</p>
<p>sub: jwt所面向的用户</p>
<p>aud: 接收jwt的一方</p>
<p>exp: jwt的过期时间，这个过期时间必须要大于签发时间</p>
<p>nbf: 定义在什么时间之前，该jwt都是不可用的.</p>
<p>iat: jwt的签发时间</p>
<p>jti: jwt的唯一身份标识，主要用来作为一次性token,从而回避重放攻击。</p>
<p>公共的声明 ：</p>
<p>公共的声明可以添加任何的信息，一般添加用户的相关信息或其他业务需要的必要信息.但不建议添加敏感信息，因为该部分在客户端可解密.</p>
<p>私有的声明 ：<br>私有声明是提供者和消费者所共同定义的声明，一般不建议存放敏感信息，因为base64是对称解密的，意味着该部分信息可以归类为明文信息。</p>
<p>定义一个payload:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;sub&quot;</span>: <span class="string">&quot;1234567890&quot;</span>,</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe&quot;</span>,</span><br><span class="line">  <span class="string">&quot;admin&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后将其进行base64加密，得到Jwt的第二部分。</p>
<h4 id="signature"><a href="#signature" class="headerlink" title="signature"></a>signature</h4><p>jwt的第三部分是一个签证信息，这个签证信息由三部分组成：</p>
<p>header (base64后的)</p>
<p>payload (base64后的)</p>
<p>secret</p>
<p>这个部分需要base64加密后的header和base64加密后的payload使用.连接组成的字符串，然后通过header中声明的加密方式进行加盐secret组合加密，然后就构成了jwt的第三部分。</p>
<p>注意：secret是保存在服务器端的，jwt的签发生成也是在服务器端的，secret就是用来进行jwt的签发和jwt的验证，所以，它就是你服务端的私钥，在任何场景都不应该流露出去。一旦客户端得知这个secret, 那就意味着客户端是可以自我签发jwt了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/02/29/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/29/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">跨域问题 </a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-29 20:33:52 / 修改时间：20:47:05" itemprop="dateCreated datePublished" datetime="2020-02-29T20:33:52+08:00">2020-02-29</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/02/29/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/29/%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>121</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="什么是跨域？如何解决跨域问题？"><a href="#什么是跨域？如何解决跨域问题？" class="headerlink" title="什么是跨域？如何解决跨域问题？"></a>什么是跨域？如何解决跨域问题？</h3><p>跨域：指的是浏览器不能执行其他网站的脚本。它是由浏览器的同源策略造成的，是浏览器施加的安全限制。</p>
<p>同源策略：域名，协议，端口相同。</p>
<h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ol>
<li>JSONP</li>
</ol>
<p>只支持GET请求，不支持POST请求</p>
<ol start="2">
<li>代理</li>
</ol>
<p>代理模式从后端绕过浏览器端</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/02/19/springboot-SSH-SSM-%E6%A1%86%E6%9E%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/19/springboot-SSH-SSM-%E6%A1%86%E6%9E%B6/" class="post-title-link" itemprop="url">springboot,SSH,SSM 框架</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-19 22:30:51" itemprop="dateCreated datePublished" datetime="2020-02-19T22:30:51+08:00">2020-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-03-07 19:54:08" itemprop="dateModified" datetime="2022-03-07T19:54:08+08:00">2022-03-07</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/02/19/springboot-SSH-SSM-%E6%A1%86%E6%9E%B6/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/19/springboot-SSH-SSM-%E6%A1%86%E6%9E%B6/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h3><p>  Spring是一个生态体系（也可以说是技术体系），是集大成者，它包含了Spring Framework、Spring Boot、Spring Cloud等（还包括Spring Cloud data flow、spring data、spring integration、spring batch、spring security、spring hateoas）</p>
<h3 id="Spring-Framework"><a href="#Spring-Framework" class="headerlink" title="Spring Framework"></a>Spring Framework</h3><p>Spring Framework是整个spring生态的基石，它可是硬生生的消灭了Java官方主推的企业级开发标准EJB，从而实现一统天下。Spring官方对Spring Framework简短描述：为依赖注入、事务管理、WEB应用、数据访问等提供了核心的支持。Spring Framework专注于企业级应用程序的“管道”，以便开发团队可以专注于应用程序的业务逻辑。</p>
<p>笔者要提醒的是，千万不要把Spring和Spring Framework搞混淆了，很多文章都错误的定义了spring：spring是一个一站式的轻量级的java开发框架，核心是控制反转（IoC）和面向切面（AOP），针对于开发的WEB层(springMVC)、业务层(IoC)、持久层(jdbcTemplate)等都提供了多种配置解决方案。这是Spring Framework的定义，至于Spring，是整个生态。</p>
<p>但是，无论Spring Framework接口如何简化，设计如何优美，始终无法摆脱被动的境况：由于它自身并非容器，所以基本上不得不随JavaEE容器启动而装载，例如Tomcat、Jetty、JBoss等。然而Spring Boot的出现，改变了Spring Framework甚至整个Spring技术体系的现状（摘自小马哥的《SpringBoot编程思想》）。</p>
<h3 id="Springboot的概念："><a href="#Springboot的概念：" class="headerlink" title="Springboot的概念："></a><strong>Springboot的概念：</strong></h3><p>  是提供的全新框架，使用来简化Spring的初始搭建和开发过程，使用了特定的方式来进行配置，让开发人员不在需要定义样板化的配置。此框架不需要配置xml，依赖于像MAVEN这样的构建系统。</p>
<h4 id="Springboot的优点："><a href="#Springboot的优点：" class="headerlink" title="Springboot的优点："></a><strong>Springboot的优点：</strong></h4><ol>
<li><p>减少了大量的开发时间并提高了生产力。</p>
</li>
<li><p>避免了编写大量的样板代码，注释和XML配置。</p>
</li>
<li><p>解决了Spring的弊端。</p>
</li>
<li><p>快速整合第三方框架，无需配置文件。</p>
</li>
<li><p>代码少了、配置文件少了、不需要对第三方框架烦恼了、项目精简了，对整个团队的开发及维护来说，更大的节约了成本。</p>
</li>
<li><p>使用Java开发基于Spring的应用程序非常容易。</p>
</li>
</ol>
<h4 id="Springboot的缺点："><a href="#Springboot的缺点：" class="headerlink" title="Springboot的缺点："></a><strong>Springboot的缺点：</strong></h4><ol>
<li><p>修复bug较慢，报错时难以定位到该点。</p>
</li>
<li><p>集成度较高，不易了解底层。<br>总结：简单、快速、方便地搭建项目；对主流开发框架的无配置集成；极大提高了开发、部署效率。</p>
</li>
</ol>
<h3 id="SSM的概念："><a href="#SSM的概念：" class="headerlink" title="SSM的概念："></a><strong>SSM的概念：</strong></h3><p>SSM框架，是三层结合所成的框架，分别是，Spring，SpringMVC，MyBatis所组成。Spring依赖注入来管理各层，面向切面编程管理事务，日志和权限。SpringMVC代表了Model，View，Controller接收外部请求,进行分发和处理。Mybatis是基于jdbc的框架,主要用来操作数据库,并且将业务实体和数据表联系起来。</p>
<h3 id="Spring的概念："><a href="#Spring的概念：" class="headerlink" title="Spring的概念："></a><strong>Spring的概念：</strong></h3><p>Spring是一个开源开发框架，Spring主要用来开发java应用，构建J2EE平台的web应用。其核心就是提供一种新的机制管理业务对象及其依赖关系。</p>
<h4 id="Spring的优点："><a href="#Spring的优点：" class="headerlink" title="Spring的优点："></a>Spring的优点：</h4><ol>
<li><p>容器：Spring是一个容器，包含并管理对象的生命周期和配置。</p>
</li>
<li><p>支持AOP：Spring提供了对AOP的支持，它允许将一些通用任务，如安全、事物、日志等进行集中式处理，从而提高了程序的复用性。</p>
</li>
<li><p>轻量级框架：Spring是轻量级框架，其基本的版本大约2M。</p>
</li>
<li><p>控制反转  ：Spring通过控制反转实现松散耦合,对象们给它们的依赖,而不是创建或者查找依赖的对象们方便解耦,简化开发。</p>
</li>
<li><p>方便程序的测试：Spring提供了对Junit4的支持，可以通过注解方便的测试Spring程序。</p>
</li>
<li><p>降低Jave EE API的使用难度：Spring对Java EE开发中非常难用的一些API（如JDBC），都提供了封装，使这些API应用难度大大降低。</p>
</li>
<li><p>方便集成各种优秀框架：Spring不排斥各种优秀的开源框架，其内部提供了对各种优秀框架（如Struts、MyBatis等）的直接支持。</p>
</li>
<li><p>支持声明式事务处理：只需要通过配置就可以完成对事物的管理，而无须手动编程。</p>
</li>
</ol>
<h4 id="Spring的缺点："><a href="#Spring的缺点：" class="headerlink" title="Spring的缺点："></a>Spring的缺点：</h4><ol>
<li><p>依赖反射，反射影响进程。</p>
</li>
<li><p>太过于依赖设计模式。</p>
</li>
<li><p>控制器过于灵活。</p>
</li>
<li><p>不支持分布式应用。</p>
</li>
</ol>
<h3 id="SpringMVC的概念"><a href="#SpringMVC的概念" class="headerlink" title="SpringMVC的概念:"></a><strong>SpringMVC的概念:</strong></h3><p>属于Spring框架的一部分，用来简化MVC架构的web应用程序开发。</p>
<h4 id="SpringMVC的优点："><a href="#SpringMVC的优点：" class="headerlink" title="SpringMVC的优点："></a>SpringMVC的优点：</h4><ol>
<li><p>拥有强大的灵活性，非侵入性和可配置性</p>
</li>
<li><p>提供了一个前端控制器DispatcherServlet，开发者无需额外开发控制器对象</p>
</li>
<li><p>分工明确，包括控制器、验证器、命令对象、模型对象、处理程序映射视图解析器，每一个功能实现由一个专门的对象负责完成</p>
</li>
<li><p>可以自动绑定用户输入，并正确的转换数据类型</p>
</li>
<li><p>可重用的业务代码：可以使用现有的业务对象作为命令或表单对象，而不需要去扩展某个特定框架的基类。</p>
</li>
</ol>
<h4 id="SpringMVC的缺点："><a href="#SpringMVC的缺点：" class="headerlink" title="SpringMVC的缺点："></a>SpringMVC的缺点：</h4><ol>
<li><p>Servlet API 耦合难以脱离容器独立运行。</p>
</li>
<li><p>太过于细分，开发效率低。</p>
</li>
</ol>
<h4 id="Spring和Springboot的区别："><a href="#Spring和Springboot的区别：" class="headerlink" title="Spring和Springboot的区别："></a>Spring和Springboot的区别：</h4><ol>
<li><p>Spring Boot可以建立独立的Spring应用程序；</p>
</li>
<li><p>内嵌了如Tomcat，Jetty和Undertow这样的容器，也就是说可以直接跑起来，用不着再做部署工作了。</p>
</li>
<li><p>无需再像Spring那样搞一堆繁琐的xml文件的配置；</p>
</li>
<li><p>可以自动配置Spring；</p>
</li>
<li><p>提供的POM可以简化Maven的配置；</p>
</li>
</ol>
<h4 id="Springboot和SpringMVC的区别："><a href="#Springboot和SpringMVC的区别：" class="headerlink" title="Springboot和SpringMVC的区别："></a>Springboot和SpringMVC的区别：</h4><p>Spring 是一个“引擎”；</p>
<p>Spring MVC 是基于Spring的一个 MVC 框架 ；</p>
<p>Spring Boot 是基于Spring的条件注册的一套快速开发整合包。</p>
<h3 id="mybatis的概念："><a href="#mybatis的概念：" class="headerlink" title="mybatis的概念："></a><strong>mybatis的概念：</strong></h3><p>MyBatis是一个简化和实现了 Java 数据持久化层(persistence layer)的开源框架，它抽象了大量的JDBC冗余代码，并提供了一个简单易用的API和数据库交互。MyBatis的前身是iBATIS，iBATIS于2002年由ClintonBegin创建。MyBatis3是iBATIS的全新设计，支持注解和Mapper。</p>
<h4 id="mybatis的优点："><a href="#mybatis的优点：" class="headerlink" title="mybatis的优点："></a>mybatis的优点：</h4><ol>
<li><p>与JDBC相比，减少了50%以上的代码量。</p>
</li>
<li><p>MyBatis是最简单的持久化框架，小巧并且简单易学。</p>
</li>
<li><p>MyBatis灵活，不会对应用程序或者数据库的现有设计强加任何影响，SQL写在XML里，从程序代码中彻底分离，降低耦合度，便于统一管理和优化，可重用。</p>
</li>
<li><p>提供XML标签，支持编写动态SQL语句（XML中使用if, else）。</p>
</li>
<li><p>提供映射标签，支持对象与数据库的ORM字段关系映射（在XML中配置映射关系，也可以使用注解）。</p>
</li>
</ol>
<h4 id="mybatis的缺点："><a href="#mybatis的缺点：" class="headerlink" title="mybatis的缺点："></a>mybatis的缺点：</h4><ol>
<li>SQL语句的编写工作量较大，对开发人员的SQL语句编写有一定的水平要求。</li>
<li>SQL语句过于依赖数据库，不能随意更换数据库。</li>
<li>拼接复杂SQL语句时不灵活。</li>
</ol>
<h3 id="SSH的概念："><a href="#SSH的概念：" class="headerlink" title="SSH的概念："></a><strong>SSH的概念：</strong></h3><p>SSH框架是JAVA EE中三种框架所集成。分别为Struts，Spring，Hibernate框架所组成，是当前比较流行的JAVA WEB开源框架。<br>集成SSH框架的系统从职责上分为四层：表示层、业务逻辑层、数据持久层和域模块层，以帮助开发人员在短期内搭建结构清晰、可复用性好、维护方便的Web应用程序。使用Struts作为系统的整体基础架构，负责MVC的分离，在Struts框架的模型部分，控制业务跳转，利用Hibernate框架对持久层提供支持，Spring做管理，管理struts和hibernate。</p>
<h3 id="Struts2的概念："><a href="#Struts2的概念：" class="headerlink" title="Struts2的概念："></a><strong>Struts2的概念：</strong></h3><p>Struts2是一个基于MVC设计模式的Web应用框架，相当于一个servlet，在MVC设计模式中，Struts2作为控制器(Controller)来建立模型与视图的数据交互。Struts2在Struts1融合webwork。</p>
<h4 id="Struts2的优势："><a href="#Struts2的优势：" class="headerlink" title="Struts2的优势："></a>Struts2的优势：</h4><ol>
<li>实现了MVC模式，层次结构清晰，使程序员只需关注业务逻辑的实现。</li>
<li>丰富的标签库，大大提高了开发的效率。</li>
<li>Struts2提供丰富的拦截器实现。</li>
<li>通过配置文件，就可以掌握整个系统各个部分之间的关系。</li>
<li>异常处理机制，只需在配置文件中配置异常的映射，即可对异常做相应的处理。</li>
<li>Struts2的可扩展性高。</li>
<li>面向切面编程的思想在Strut2中也有了很好的体现。体现了拦截器的使用，拦截器就是一个一个的小功能单位，用户可以将这些拦截器合并成一个大的拦截器，这个合成的拦截器就像单独的拦截器一样，只要将它配置到一个、Action中就可以。</li>
</ol>
<h4 id="Struts2的缺点："><a href="#Struts2的缺点：" class="headerlink" title="Struts2的缺点："></a>Struts2的缺点：</h4><ol>
<li>校验较繁琐，多字段时出错返回不同。</li>
<li>安全性太低。</li>
<li>获取传参时较麻烦。</li>
</ol>
<h3 id="Hibernate的概念："><a href="#Hibernate的概念：" class="headerlink" title="Hibernate的概念："></a><strong>Hibernate的概念：</strong></h3><p>Hibernate是一个Java领域的持久层的ORM（对象&#x2F;关系映射）框架。与各种数据库，SQL语句打交道，是数据持久化的一种解决方案。ORM框架是不同于MVC的另一种思想框架，适用范围也与MVC截然不同。类似功能的框架还有SUN的JDO、Oracle公司的TopLink、Apache的iBatis和openJPA等。</p>
<h4 id="Hibernate的优点："><a href="#Hibernate的优点：" class="headerlink" title="Hibernate的优点："></a>Hibernate的优点：</h4><ol>
<li>对象&#x2F;关系数据库映射(Basic O&#x2F;R Mapping)它使用时只需要操纵对象，使开发更对象化，抛弃了数据库中心的思想，完全的面向对象思想。</li>
<li>透明持久化(Persistent)带有持久化状态的、具有业务功能的单线程对象，此对象生存期很短。这些对象可能是普通的JavaBeans&#x2F;POJO，这个对象没有实现第三方框架或者接口，唯一特殊的是他们正与（仅仅一个）Session相关联。一旦这个Session被关闭，这些对象就会脱离持久化状态，这样就可被应用程序的任何层自由使用。</li>
<li>事务Transaction 应用程序用来指定原子操作单元范围的对象，它是单线程的，生命周期很短。它通过抽象将应用从底层具体的JDBC、JTA以及CORBA事务隔离开。某些情况下，一个Session之内可能包含多个Transaction对象。尽管是否使用该对象是可选的，但无论是使用底层的API还是使用Transaction对象，事务边界的开启与关闭是必不可少的。</li>
<li>它没有侵入性，即所谓的轻量级框架。</li>
<li>移植性会很好。</li>
<li>缓存机制。提供一级缓存和二级缓存。</li>
</ol>
<h4 id="Hibernate的缺点："><a href="#Hibernate的缺点：" class="headerlink" title="Hibernate的缺点："></a>Hibernate的缺点：</h4><ol>
<li>持久层封装过于完整，导致开发人员无法对SQL进行优化，无法灵活应用原生SQL。</li>
<li>批量数据处理的时候是较弱势。</li>
<li></li>
<li>框架中使用ORM原则，导致配置过于复杂，遇到大项目，维护和问题不断。</li>
<li>配置文件复杂。</li>
</ol>
<h3 id="Spring-ioc-容器作用"><a href="#Spring-ioc-容器作用" class="headerlink" title="Spring ioc 容器作用"></a>Spring ioc 容器作用</h3><ol>
<li>创建对象    1.调用无参构造 2.带参数构造 3.工厂创建对象 静态方法 和非静态方法</li>
<li>处理对象依赖关系  通过DI，依赖注入 1. 通过构造 <constuctor-arg> 2. 通过set 方法 对相应的属性进行注入 <property></li>
<li></li>
<li></property>3. 通过p命名空间  4.自动装配</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/02/05/%E5%B8%B8%E8%A7%81loder/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="夏远建">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夏远建的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/05/%E5%B8%B8%E8%A7%81loder/" class="post-title-link" itemprop="url">常见loder及插件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-05 12:09:04 / 修改时间：16:41:28" itemprop="dateCreated datePublished" datetime="2020-02-05T12:09:04+08:00">2020-02-05</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/02/05/%E5%B8%B8%E8%A7%81loder/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/02/05/%E5%B8%B8%E8%A7%81loder/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="常见的loader"><a href="#常见的loader" class="headerlink" title="常见的loader"></a>常见的loader</h2><h3 id="1-文件"><a href="#1-文件" class="headerlink" title="1.文件"></a>1.文件</h3><p>raw-loader 加载文件原始内容（utf-8）</p>
<p>val-loader 将代码作为模块执行，并将 exports 转为 JS 代码</p>
<p>url-loader 像 file loader 一样工作，但如果文件小于限制，可以返回 data URL</p>
<p>file-loader 将文件发送到输出文件夹，并返回（相对）URL</p>
<h3 id="2-JSON"><a href="#2-JSON" class="headerlink" title="2.JSON"></a>2.JSON</h3><p>json-loader 加载 JSON 文件（默认包含）</p>
<p>json5-loader 加载和转译 JSON 5 文件</p>
<p>cson-loader 加载和转译 CSON 文件</p>
<h3 id="3-转换编译-Transpiling"><a href="#3-转换编译-Transpiling" class="headerlink" title="3.转换编译(Transpiling)"></a>3.转换编译(Transpiling)</h3><p>script-loader 在全局上下文中执行一次 JavaScript 文件（如在 script 标签），不需要解析</p>
<p>babel-loader 加载 ES2015+ 代码，然后使用 Babel 转译为 ES5</p>
<p>buble-loader 使用 Bublé 加载 ES2015+ 代码，并且将代码转译为 ES5</p>
<p>traceur-loader 加载 ES2015+ 代码，然后使用 Traceur 转译为 ES5</p>
<p>ts-loader 或 awesome-typescript-loader 像 JavaScript 一样加载 TypeScript 2.0+</p>
<p>coffee-loader 像 JavaScript 一样加载 CoffeeScript</p>
<h3 id="4-模板-Templating"><a href="#4-模板-Templating" class="headerlink" title="4.模板(Templating)"></a>4.模板(Templating)</h3><p>html-loader 导出 HTML 为字符串，需要引用静态资源</p>
<p>pug-loader 加载 Pug 模板并返回一个函数</p>
<p>jade-loader 加载 Jade 模板并返回一个函数</p>
<p>markdown-loader 将 Markdown 转译为 HTML</p>
<p>react-markdown-loader 使用 markdown-parse parser(解析器) 将 Markdown 编译为 React 组件</p>
<p>posthtml-loader 使用 PostHTML 加载并转换 HTML 文件</p>
<p>handlebars-loader 将 Handlebars 转移为 HTML</p>
<p>markup-inline-loader 将内联的 SVG&#x2F;MathML 文件转换为 HTML。在应用于图标字体，或将 CSS<br>动画应用于 SVG 时非常有用。</p>
<h3 id="5-样式"><a href="#5-样式" class="headerlink" title="5.样式"></a>5.样式</h3><p>style-loader 将模块的导出作为样式添加到 DOM 中</p>
<p>css-loader 解析 CSS 文件后，使用 import 加载，并且返回 CSS 代码</p>
<p>less-loader 加载和转译 LESS 文件</p>
<p>sass-loader 加载和转译 SASS&#x2F;SCSS 文件</p>
<p>postcss-loader 使用 PostCSS 加载和转译 CSS&#x2F;SSS 文件</p>
<p>stylus-loader 加载和转译 Stylus 文件</p>
<h3 id="6-清理和测试-Linting-Testing"><a href="#6-清理和测试-Linting-Testing" class="headerlink" title="6.清理和测试(Linting &amp;&amp; Testing)"></a>6.清理和测试(Linting &amp;&amp; Testing)</h3><p>mocha-loader 使用 mocha 测试（浏览器&#x2F;NodeJS）</p>
<p>eslint-loader PreLoader，使用 ESLint 清理代码</p>
<p>jshint-loader PreLoader，使用 JSHint 清理代码</p>
<p>jscs-loader PreLoader，使用 JSCS 检查代码样式</p>
<p>coverjs-loader PreLoader，使用 CoverJS 确定测试覆盖率</p>
<h3 id="7-框架-Frameworks"><a href="#7-框架-Frameworks" class="headerlink" title="7.框架(Frameworks)"></a>7.框架(Frameworks)</h3><p>vue-loader 加载和转译 Vue 组件</p>
<p>polymer-loader 使用选择预处理器(preprocessor)处理，并且 require() 类似一等模块<br>(first-class)的 Web 组件</p>
<p>angular2-template-loader 加载和转译 Angular 组件</p>
<h2 id="常见插件"><a href="#常见插件" class="headerlink" title="常见插件"></a>常见插件</h2><p><a target="_blank" rel="noopener" href="http://tangjiusheng.com/vue/155.html">参考网站</a></p>
<p>htmlWebpackPlugin </p>
<p>创建一个在内存中生成html的插件。该插件把打包好的bundle.js追加到页面中去</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">htmlWebpackPlugin</span>(</span><br><span class="line">    &#123;</span><br><span class="line">        template:path.join(_dirname,<span class="string">&#x27;./src/index.html&#x27;</span>)</span><br><span class="line">        filename: <span class="string">&#x27;index2.html&#x27;</span> <span class="comment">//生成</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>extract-text-webpack-plugin</p>
<p>该插件的主要是为了抽离css样式,防止将样式打包在js中引起页面样式加载错乱的现象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">                test: /\.css$/,</span><br><span class="line">                use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">                    fallback: <span class="string">&#x27;style-loader&#x27;</span>,</span><br><span class="line">                    use: [<span class="string">&#x27;css-loader?&#x27;</span> + JSON.stringify(&#123;</span><br><span class="line">                        discardComments: &#123; </span><br><span class="line">                            removeAll: <span class="literal">true</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)]</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<p>用法 ExtractTextPlugin.extract(options:loader|object)</p>
<p>1.options.use:指需要什么样的loader去编译文件</p>
<p>2.options.fallback:编译后用什么loader来提取css文件</p>
<p>3.options.publicfile:用来覆盖项目路径,生成该css文件的文件路径</p>
<p>CleanWebpackPlugin</p>
<p>当我们修改带hash的文件并进行打包时，每打包一次就会生成一个新的文件，而旧的文件并没有删除。为了解决这种情况，我们可以使用clean-webpack-plugin在打包之前将文件先清除，之后再打包出最新的文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="variable">CleanWebpackPlugin</span> <span class="operator">=</span> require(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>); <span class="comment">//使用前需要安装clean-webpack-plugin</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>(</span><br><span class="line">     [<span class="string">&#x27;dist/main.*.js&#x27;</span>,<span class="string">&#x27;dist/manifest.*.js&#x27;</span>],　 <span class="comment">//匹配删除的文件</span></span><br><span class="line">     &#123;</span><br><span class="line">         root: __dirname,  <span class="comment">//根目录</span></span><br><span class="line">         verbose:  <span class="literal">true</span>,  <span class="comment">//开启在控制台输出信息</span></span><br><span class="line">         dry: <span class="literal">false</span>    <span class="comment">//启用删除文件</span></span><br><span class="line">     &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">夏远建</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">25</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">夏远建</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">50k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:31</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'JM04yDYxfC7OBdEVFPgjYe82-gzGzoHsz',
      appKey     : 'N0ThHHvSUDiGsV5vHwy9wavK',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-CN' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
